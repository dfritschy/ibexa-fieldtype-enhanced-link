{% extends '@ibexadesign/content/form_fields.html.twig' %}

{% trans_default_domain 'field_edit' %}

{% use '@NetgenIbexaFieldTypeEnhancedLink/themes/admin/ngenhancedlink/internal_link.html.twig' %}

{% block ibexa_fieldtype_ngenhancedlink_widget %}
	{% set limit = 1 %}
	{% set default_location = form.vars.default_location ? form.vars.default_location.id : null %}
	{% set allowed_content_type_identifiers = form.parent.vars.value.fieldDefinition.fieldSettings.selectionContentTypes %}
	{% set helper = 'ezobjectrelation.helper'|trans|desc('Stores a Relation to a Content item.') %}
	{% set is_translation = is_translation ?? false %}

	<div class="link-type-options">
		{{- form_row(form.link_type, { disabled: is_translation }) -}}
        <br />
	</div>
	<div class="internal-link-form hidden">
		{{ block('netgeninternalrelation_base_widget') }}
		{{- form_row(form.suffix, { disabled: is_translation }) -}}
		{{- form_row(form.label_internal, { disabled: is_translation }) -}}
		{{- form_row(form.target_internal, { disabled: is_translation }) -}}
	</div>
	<div class="external-link-form hidden">
		{{- form_row(form.url, { disabled: is_translation }) -}}
		{{- form_row(form.label_external, { disabled: is_translation }) -}}
		{{- form_row(form.target_external, { disabled: is_translation }) -}}
	</div>
{% endblock %}
